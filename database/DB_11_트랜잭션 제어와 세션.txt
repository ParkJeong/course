하나의 단위로 데이터를 처리하는 트랜잭션

트랜잭션(transaction)이란 더 이상 분할할 수 없는 최소 수행 단위를 의미한다.
계좌 이체와 같이 하나의 작업 또는 밀접하게 연관된 작업을 수행하기 위해 한 개 이상의 데이터 조작 명령어(DML)로 이루어진다. 즉 어떤 기능 한 가지를 수행하는 SQL문 덩어리라고 볼 수 있다.
트랜잭션은 하나의 트랜잭션 내에 있는 여러 명령어를 한 번에 수행하여 작업을 완료하거나 아예 모두 수행하지 않는 상태, 즉 모든 작업을 취소한다. 이러한 특성으로 트랜잭션 의미를 'ALL OR' NOTHING'문장으로 설명하기도 한다. 그리고 트랜잭션을 제어하기 위해 사용하는 명령어를 TCL(Transaction Control Language)이라고 한다.


관계형 데이터베이스에서 하나의 작업 또는 밀접하게 연관되어 있는 작업 수행을 위해 나눌 수 없는 최소 수행 단위를 트랜잭션이라고 한다. SQL 문법 중 이러한 트랜잭션을 제어하는 데 사용하는 명령어를 TCL이라고 한다.




트랜잭션을 제어하는 명령어
TCL, 트랜잭션 제어 명령어는 데이터 조작을 데이터베이스에 영구히 반영하거나 작업 전체를 취소한다.



트랜잭션을 취소하고 싶을 때는 ROLLBACK
현재 트랜잭션에 포함된 데이터 조작 관련 명령어의 수행을 모두 취소한다.


트랜잭션을 영원히 반영하고 싶을 때는 COMMIT
ROLLBACK과 달리 지금까지 수행한 트랜잭션 명령어를 데이터베이스에 영구히 반영할 때는 COMMIT 명령어를 사용한다. 그러므로 COMMIT은 트랜잭션 작업이 정상적으로 수행되었다고 확신할 때 사용해야 한다.

COMMIT, ROLLBACK 명령어 모두 현재 트랜잭션을 끝내고 새 트랜잭션을 시작하게 한다. 종료될 트랜잭션에 작업을 반영할지 취소할지만 결정하는 것이다.
ROLLBACK을 통해 작업을 취소할 지점을 지정할 때 SAVEPOINT 명령어를 사용할 수 있다. 자세한 것은 공식문서에서 찾아보기





세션과 읽기 일관성의 의미

세션(session)은 어떤 활동을 위한 시간이나 기간을 뜻한다. 오라클 데이터베이스에서 세션은 데이터베이스 접속을 시작으로 여러 데이터베이스에서 관련 작업을 수행한 후 접속을 종료하기까지 전체 기간을 의미한다.
그러므로 세션이 여러 개라는 말은 현재 오라클 데이터베이스에 접속하여 사용 중인 연결이 여러 개 있다는 뜻이다. 예를 들어 오라클 데이터베이스에 토드를 사용하여 SCOTT 계정으로 접속했을 때, 명령어 프롬프트를 켜서 SQL*PLUS를 실행하여 SCOTT으로 접속할 경우에 세션은 두 개가 된다. 같은 계정으로 접속해도 세션은 각각이다.

트랜잭션은 데이터 조작 명령어가 모인 하나의 작업 단위를 뜻하며 세션 내부에는 하나 이상의 트랜잭션이 존재한다.


읽기 일관성의 중요성
데이터베이스는 여러 곳(여러 사용자, 여러 응용 프로그램)에서 동시에 접근하여 데이터를 관리 사용하는 것이 목적이므로 대부분 수많은 세션이 동시에 연결되어 있다. 읽기 일관성이란 어떤 특정 세션에서 테이블의 데이터를 변경 중일 때 그 외 다른 세션에서는 데이터의 변경이 확정되기 전까지 변경 사항을 알 필요가 없으므로, 데이터를 변경 중인 세션을 제외한 나머지 세션에서는 현재 진행 중인 변경과 무관한 본래의 데이터를 보여주는 특성을 의미한다.
















